<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>kspaceFirstOrder3D-OMP: Parameters/CommandLineParameters.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="header_bg.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">kspaceFirstOrder3D-OMP
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">The C++ implementation of the k-wave toolbox for the time-domain simulation of acoustic wave fields in 3D</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Parameters/CommandLineParameters.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The header file containing the command line parameters.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cstdlib&gt;</code><br/>
<code>#include &lt;string&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for CommandLineParameters.h:</div>
<div class="dyncontent">
<div class="center"><img src="_command_line_parameters_8h__incl.png" border="0" usemap="#_parameters_2_command_line_parameters_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="_command_line_parameters_8h__dep__incl.png" border="0" usemap="#_parameters_2_command_line_parameters_8hdep" alt=""/></div>
<map name="_parameters_2_command_line_parameters_8hdep" id="_parameters_2_command_line_parameters_8hdep">
<area shape="rect" id="node3" href="_parameters_8h.html" title="The header file containing the parameters of the simulation." alt="" coords="383,83,543,112"/><area shape="rect" id="node17" href="_command_line_parameters_8cpp.html" title="The implementation file containing the command line parameters." alt="" coords="567,83,820,112"/><area shape="rect" id="node5" href="_k_space_first_order3_d_solver_8h.html" title="The header file containing the main class of the project responsible for the entire simulation..." alt="" coords="9,160,271,189"/><area shape="rect" id="node11" href="_h_d_f5___file_8cpp.html" title="The implementation file containing the HDF5 related classes." alt="" coords="295,160,433,189"/><area shape="rect" id="node13" href="_matrix_container_8cpp.html" title="The implementation file containing the matrix container." alt="" coords="457,160,668,189"/><area shape="rect" id="node15" href="_parameters_8cpp.html" title="The implementation file containing parameters of the simulation." alt="" coords="692,160,865,189"/><area shape="rect" id="node7" href="main_8cpp.html" title="The main file." alt="" coords="5,237,77,267"/><area shape="rect" id="node9" href="_k_space_first_order3_d_solver_8cpp.html" title="The implementation file containing the main class of the project responsible for the entire simulatio..." alt="" coords="101,237,376,267"/></map>
</div>
</div>
<p><a href="_command_line_parameters_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_command_line_parameters.html">TCommandLineParameters</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The class to parse and store command line parameters.  <a href="class_t_command_line_parameters.html#details">More...</a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><dl class="author"><dt><b>Author:</b></dt><dd>Jiri Jaros <br/>
 CECS, ANU, Australia <br/>
 <a href="mailto:jiri.jaros@anu.edu.au">jiri.jaros@anu.edu.au</a> </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>kspaceFirstOrder3D 2.13 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>29 August 2012, 11:25 (created) <br/>
 11 October 2012, 17:05 (revised)</dd></dl>
<h2><a class="anchor" id="Params"></a>
Command Line Parameters</h2>
<p>The C++ code requires two mandatory parameters and accepts a few optional parameters and flags. The mandatory parameters <code>-i</code> and <code>-o</code> specify the input and output file. The file names respect the path conventions for particular operating system. If any of the files is not specified, cannot be found or created, an error message is shown.</p>
<p>The <code>-t</code> parameter sets the number of threads used, which defaults the system maximum. On CPUs with Intel Hyper-Threading (HT), performance will generally be better if HT is disabled in the BIOS settings. If HT is switched on, the default will be to create twice as many threads as there are physical processor cores, which might slow down the code execution. Therefore, if the HT is on, try specifying the number of threads manually for best performance (e.g., 4 for Intel Quad-Core). We recommend experimenting with this parameter to find the best configuration. Note, if there are other tasks being executed on the system, it might be useful to further limit the number of threads to prevent system overload.</p>
<p>The <code>-r</code> parameter specifies how often information about the simulation progress is printed to the command line. By default, the C++ code prints out the progress of the simulation, the elapsed time, and the estimated time of completion in intervals corresponding to 5% of the total number of times steps.</p>
<p>The <code>-c</code> parameter specifies the compression level used by the ZIP library to reduce the size of the output file. The actual compression rate is highly dependent on the shape of the sensor mask and the range of stored quantities. In general, the output data is very hard to compress, and using higher compression levels can greatly increase the time to save data while not having a large impact on the final file size. The default compression level of 3 represents a balance between compression ratio and performance that is suitable in most cases.</p>
<p>The <code>--benchmark</code> parameter enables the total length of simulation (i.e., the number of time steps) to be overwritten by setting a new number of time steps to simulate. This is particularly useful for performance evaluation and benchmarking. As the code performance is relatively stable, 50-100 time steps is usually enough to predict the simulation duration. This parameter can also be used to quickly find the ideal number of CPU threads to use.</p>
<p>The <code>-h</code> and <code>--help</code> parameters print all the parameters of the C++ code, while the <code>--version</code> parameter reports the code version and internal build number.</p>
<p>The remaining flags specify the output quantities to be recorded during the simulation and stored on disk analogous to the sensor.record input. If the <code>-p</code> or <code>--p</code> raw flags are set (these are equivalent), a time series of the acoustic pressure at the grid points specified by the sensor mask is recorded. If the <code>--p</code> rms and/or <code>--p</code> max flags are set, the root mean square and/or maximum values of the pressure at the grid points specified by the sensor mask are recorded. Finally, if the <code>--p</code> final flag is set, the values for the entire acoustic pressure field in the final time step of the simulation is stored (this will always include the PML, regardless of the setting for <code> `PMLInside' </code>). Flags to record the acoustic particular velocity are defined in an analogous fashion.</p>
<p>In addition to returning the acoustic pressure and particle velocity, the acoustic intensity at the grid points specified by the sensor mask can also be calculated and stored. To account for the staggered grid scheme, approximate values for the particle velocity at the unstaggered grid points are automatically calculated using linear interpolation before multiplication by the acoustic pressure. Two means of aggregation are possible: <code>-I</code> or <code>--I_avg</code> calculates and stores the average acoustic intensity, while <code>--I</code> max calculates the maximum acoustic intensity.</p>
<p>Any combination of <code>p</code>, <code>u</code> and <code>I</code> fags is admissible. If no output flag is set, a time-series for the acoustic pressure is recorded. If it is not necessary to collect the output quantities over the entire simulation, the starting time step when the collection begins can be specified using the -s parameter. Note, the index for the first time step is 1 (this follows the MATLAB indexing convention).</p>
<div class="fragment"><pre class="fragment">
---------------------------------- Usage ---------------------------------  
Mandatory parameters:
  -i &lt;input_file_name&gt;            : HDF5 input file 
  -o &lt;output_file_name&gt;           : HDF5 output file
 
Optional parameters: 
  -t &lt;num_threads&gt;                : Number of CPU threads (default = MAX)
  -r &lt;interval_in_%&gt;              : Progress print interval (default = 5%)
  -c &lt;comp_level&gt;                 : Output file compression level &lt;0,9&gt;
                                      (default = 3)
  --benchmark &lt;steps&gt;             : Run a specified number of time steps
   
  -h                              : Print help
  --help                          : Print help
  --version                       : Print version
   
Output flags:   
  -p                              : Store acoustic pressure 
                                      (default if nothing else is on)
                                      (the same as --p_raw)
  --p_raw                         : Store raw time series of p (default)
  --p_rms                         : Store rms of p
  --p_max                         : Store max of p
  --p_final                       : Store final pressure field 
   
  -u                              : Store ux, uy, uz
                                      (the same as --u_raw)
  --u_raw                         : Store raw time series of ux, uy, uz
  --u_rms                         : Store rms of ux, uy, uz
  --u_max                         : Store max of ux, uy, uz
  --u_final                       : Store final acoustic velocity
   
  -I                              : Store intensity
                                      (the same as --I_avg) 
  --I_avg                         : Store avg of intensity
  --I_max                         : Store max of intensity
   
  -s &lt;timestep&gt;                   : Time step when data collection begins
                                      (default = 1)
--------------------------------------------------------------------------  
</pre></div><h2><a class="anchor" id="License"></a>
License</h2>
<p>This file is part of the C++ extension of the k-Wave Toolbox (<a href="http://www.k-wave.org">http://www.k-wave.org</a>).<br/>
 Copyright (C) 2012 Jiri Jaros and Bradley Treeby</p>
<p>This file is part of k-Wave. k-Wave is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>k-Wave is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public License along with k-Wave. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;. </p>

<p>Definition in file <a class="el" href="_command_line_parameters_8h_source.html">CommandLineParameters.h</a>.</p>
</div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 14 2012 15:22:30 for kspaceFirstOrder3D-OMP by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
